---
phase: 01-foundation-layout
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/components/layout/Navigation.tsx
  - src/components/layout/Header.tsx
  - src/components/layout/index.ts
autonomous: true

must_haves:
  truths:
    - "User sees navigation links in header on desktop"
    - "Nav links have underline animation on hover"
    - "Active page link is visually highlighted"
    - "All nav links work and go to correct routes"
    - "Navigation text displays in selected language"
  artifacts:
    - path: "src/components/layout/Navigation.tsx"
      provides: "Desktop navigation with underline hover effects"
      min_lines: 30
      contains: "NavLink"
    - path: "src/components/layout/Header.tsx"
      provides: "Updated header with navigation integration"
      contains: "Navigation"
  key_links:
    - from: "src/components/layout/Navigation.tsx"
      to: "translations"
      via: "useTranslation hook"
      pattern: "t\\('nav\\."
    - from: "src/components/layout/Navigation.tsx"
      to: "react-router"
      via: "NavLink component"
      pattern: "NavLink"
    - from: "src/components/layout/Header.tsx"
      to: "Navigation"
      via: "import and render"
      pattern: "<Navigation"
---

<objective>
Create desktop navigation with underline hover animation and integrate into header.

Purpose: Users need to navigate between pages. The underline hover effect provides visual feedback that feels corporate-professional per user's vision.

Output: Navigation component with 6 nav links (Home, Services, HSE, Gallery, Contact, Careers), underline animation on hover, active state highlighting. Header updated to include navigation.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-layout/01-CONTEXT.md
@.planning/phases/01-foundation-layout/01-RESEARCH.md
@REACT-ROUTER.md
@TAILWIND.md

@src/components/layout/Header.tsx
@src/routes/index.tsx
@src/locales/en/common.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Navigation component with underline hover effect</name>
  <files>
    - src/components/layout/Navigation.tsx
    - src/components/layout/index.ts
  </files>
  <action>
1. **Create src/components/layout/Navigation.tsx**:
```tsx
// Key implementation details:

// Nav links configuration (route + translation key)
const navLinks = [
  { to: '/', key: 'nav.home' },
  { to: '/services', key: 'nav.services' },
  { to: '/hse', key: 'nav.hse' },
  { to: '/gallery', key: 'nav.gallery' },
  { to: '/contact', key: 'nav.contact' },
  { to: '/careers', key: 'nav.careers' },
]

// Component renders a <nav> with hidden on mobile (md:flex)
// Uses NavLink from react-router for active state detection
// Underline effect via CSS pseudo-element:
//   - after:absolute after:bottom-0 after:start-0 (RTL-aware: start not left)
//   - after:h-0.5 after:bg-primary
//   - after:w-0 after:transition-all after:duration-300
//   - hover:after:w-full
//   - Active state: after:w-full
// Text styling: text-sm font-medium, hover:text-primary transition
// Use cn() from lib/utils for conditional classes
```

2. **Export from src/components/layout/index.ts**:
- Add `export { Navigation } from './Navigation'`
  </action>
  <verify>
- File exists and exports Navigation component
- `pnpm build` succeeds with no errors
- Component uses `after:start-0` not `after:left-0` (RTL-aware)
  </verify>
  <done>
Navigation component created with 6 links, underline hover animation using CSS pseudo-elements, and RTL-aware logical properties.
  </done>
</task>

<task type="auto">
  <name>Task 2: Integrate Navigation into Header</name>
  <files>
    - src/components/layout/Header.tsx
  </files>
  <action>
1. **Update src/components/layout/Header.tsx**:
- Import Navigation component from './Navigation'
- Replace the empty `<nav className="hidden md:flex...">` placeholder with `<Navigation />`
- Remove the ThemeToggle (not part of Phase 1 requirements - can be re-added later if needed)
- Keep structure: Logo (left/start) | Navigation (center) | Actions (right/end)
- Actions section keeps LanguageSwitcher

2. **Update Logo to use actual image**:
- Replace text-only logo with `<img src="/Jerash-logo-color.png" alt={t('common.siteName')} className="h-10 w-auto" />`
- Wrap in Link to "/" for home navigation
- Keep existing sticky header styling (already correct)
  </action>
  <verify>
- `pnpm dev` shows header with logo image and 6 navigation links on desktop (md+ breakpoint)
- Navigation links hidden on mobile (below md breakpoint)
- Underline animation appears on hover
- Active page shows persistent underline
- Clicking "Services" navigates to /services (shows 404 for now - expected)
  </verify>
  <done>
Header displays Jerash logo, desktop navigation with 6 links, and language switcher. Navigation uses underline hover effect. Links work and navigate to routes.
  </done>
</task>

</tasks>

<verification>
Phase 01-02 verification:
1. **Desktop navigation visible**: 6 links appear on md+ screens
2. **Mobile navigation hidden**: Links hidden below md breakpoint
3. **Underline animation**: Hover causes underline to expand from start
4. **Active state**: Current page link shows persistent underline
5. **Translation**: Nav links display in selected language (Arabic/English)
6. **RTL support**: Underline starts from correct side in RTL mode
7. **Routing**: Clicking links navigates to correct paths
</verification>

<success_criteria>
- [ ] Navigation component renders 6 links: Home, Services, HSE, Gallery, Contact, Careers
- [ ] Links use translation keys (nav.home, nav.services, etc.)
- [ ] Underline animation on hover (0 width -> full width)
- [ ] Active NavLink shows persistent underline
- [ ] Navigation hidden on mobile (below md breakpoint)
- [ ] Header shows logo image, navigation, and language switcher
- [ ] Clicking nav links navigates to correct routes
- [ ] RTL mode: underline animates from right side (start-0)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-layout/01-02-SUMMARY.md`
</output>
