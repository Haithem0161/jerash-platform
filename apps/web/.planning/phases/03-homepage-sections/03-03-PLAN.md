---
phase: 03-homepage-sections
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/animations/AnimatedCounter.tsx
  - src/components/home/StatsSection.tsx
  - src/components/home/ManagementSection.tsx
  - src/locales/en/common.json
  - src/locales/ar/common.json
  - src/components/animations/index.ts
  - src/components/home/index.ts
autonomous: true

must_haves:
  truths:
    - "Statistics numbers count up from 0 when scrolled into view"
    - "Counter animation triggers only once (not on every scroll)"
    - "Stats show years experience, projects, employees with + suffix"
    - "Management philosophy displays with professional layout"
    - "All content displays correctly in Arabic and English"
  artifacts:
    - path: "src/components/animations/AnimatedCounter.tsx"
      provides: "Scroll-triggered number counter"
      min_lines: 30
    - path: "src/components/home/StatsSection.tsx"
      provides: "Statistics grid with animated counters"
      min_lines: 30
    - path: "src/components/home/ManagementSection.tsx"
      provides: "Management philosophy section"
      min_lines: 25
  key_links:
    - from: "src/components/animations/AnimatedCounter.tsx"
      to: "motion/react"
      via: "useInView and animate"
      pattern: "useInView|useMotionValue|animate"
    - from: "src/components/home/StatsSection.tsx"
      to: "AnimatedCounter"
      via: "import"
      pattern: "import.*AnimatedCounter"
---

<objective>
Create animated statistics counters and management philosophy section.

Purpose: Statistics with count-up animation create visual impact and showcase Jerash's experience. Management philosophy communicates leadership values.
Output: AnimatedCounter component, StatsSection with 3 stats, ManagementSection with company philosophy.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-homepage-sections/03-RESEARCH.md
@.planning/JERASH-PROFILE.md

# Animation patterns from research
@src/components/animations/variants.ts
@src/components/animations/StaggerContainer.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create AnimatedCounter component</name>
  <files>
    src/components/animations/AnimatedCounter.tsx
    src/components/animations/index.ts
  </files>
  <action>
    1. Create src/components/animations/AnimatedCounter.tsx:
       ```tsx
       import { useEffect, useRef } from 'react'
       import { animate, useInView, useMotionValue, useTransform, motion } from 'motion/react'

       interface AnimatedCounterProps {
         from?: number
         to: number
         duration?: number
         suffix?: string
         prefix?: string
         className?: string
       }

       export function AnimatedCounter({
         from = 0,
         to,
         duration = 2,
         suffix = '',
         prefix = '',
         className,
       }: AnimatedCounterProps) {
         const count = useMotionValue(from)
         const rounded = useTransform(count, (latest) => Math.round(latest))

         const ref = useRef<HTMLSpanElement>(null)
         const isInView = useInView(ref, { once: true, amount: 0.5 })

         useEffect(() => {
           if (isInView) {
             const controls = animate(count, to, {
               duration,
               ease: 'easeOut',
             })
             return () => controls.stop()
           }
         }, [isInView, count, to, duration])

         return (
           <span ref={ref} className={className}>
             {prefix}
             <motion.span>{rounded}</motion.span>
             {suffix}
           </span>
         )
       }
       ```

    2. Update src/components/animations/index.ts to add export:
       ```ts
       export { AnimatedCounter } from './AnimatedCounter'
       ```
       Keep all existing exports.

    Key points:
    - useMotionValue avoids React re-renders on every frame
    - useInView with once: true ensures animation plays only once
    - amount: 0.5 means trigger when 50% visible
    - Clean up animation controls on unmount
  </action>
  <verify>
    - AnimatedCounter.tsx uses useMotionValue pattern (not setState)
    - Exported from animations/index.ts
    - Build passes: `pnpm build`
  </verify>
  <done>
    AnimatedCounter component created with scroll-triggered animation.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create StatsSection and ManagementSection components</name>
  <files>
    src/components/home/StatsSection.tsx
    src/components/home/ManagementSection.tsx
  </files>
  <action>
    1. Create src/components/home/StatsSection.tsx:
       - Import Section from layout, AnimatedCounter from animations
       - Import StaggerContainer, StaggerItem from animations

       Define stats array:
       ```ts
       const stats = [
         { key: 'yearsExperience', value: 15, suffix: '+' },
         { key: 'projectsCompleted', value: 500, suffix: '+' },
         { key: 'employees', value: 200, suffix: '+' },
       ] as const
       ```

       Layout:
       - Section wrapper with id="stats"
       - Optional background: bg-muted/50 for visual separation
       - StaggerContainer with grid-cols-1 md:grid-cols-3 gap-8
       - Each stat in StaggerItem with text-center:
         - AnimatedCounter with text-5xl md:text-6xl font-bold
         - Label below from t(`home.stats.${key}`) in text-lg text-muted-foreground

    2. Create src/components/home/ManagementSection.tsx:
       - Use Section wrapper with id="management"
       - 60/40 layout similar to Vision/Mission
       - Image on end side: team leadership photo
       - Text content from t('home.management.content')
       - Wrap in FadeIn animations

       Use image: '/WhatsApp Image 2026-01-09 at 4.37.36 PM (1).jpeg'

       Content based on JERASH-PROFILE.md:
       - "Leadership teams have full responsibility and accountability to drive safety culture"
       - "Empowering teams through training and clear career paths"
  </action>
  <verify>
    - StatsSection uses AnimatedCounter component
    - ManagementSection uses FadeIn component
    - Build passes: `pnpm build`
  </verify>
  <done>
    StatsSection with animated counters and ManagementSection created.
  </done>
</task>

<task type="auto">
  <name>Task 3: Add translations and update exports</name>
  <files>
    src/locales/en/common.json
    src/locales/ar/common.json
    src/components/home/index.ts
  </files>
  <action>
    1. Update src/locales/en/common.json - add to "home" object:
       ```json
       "stats": {
         "yearsExperience": "Years of Experience",
         "projectsCompleted": "Projects Completed",
         "employees": "Team Members"
       },
       "management": {
         "title": "Management Philosophy",
         "content": "Our leadership believes in empowering teams through clear career paths, appropriate training, and a culture of accountability. We pride ourselves in offering a diverse work environment where both team and individual contributions are encouraged and valued. The leadership teams have full responsibility to drive our safety culture by ensuring effective implementation of our standards."
       }
       ```

    2. Update src/locales/ar/common.json - add to "home" object:
       ```json
       "stats": {
         "yearsExperience": "سنوات الخبرة",
         "projectsCompleted": "المشاريع المنجزة",
         "employees": "أعضاء الفريق"
       },
       "management": {
         "title": "فلسفة الإدارة",
         "content": "تؤمن قيادتنا بتمكين الفرق من خلال مسارات وظيفية واضحة وتدريب مناسب وثقافة المساءلة. نفخر بتقديم بيئة عمل متنوعة يتم فيها تشجيع وتقدير مساهمات الفريق والأفراد. تتحمل فرق القيادة المسؤولية الكاملة لدفع ثقافة السلامة لدينا من خلال ضمان التنفيذ الفعال لمعاييرنا."
       }
       ```

    3. Update src/components/home/index.ts to add new exports:
       ```ts
       export { StatsSection } from './StatsSection'
       export { ManagementSection } from './ManagementSection'
       ```
       Keep all existing exports.
  </action>
  <verify>
    - JSON files valid with stats and management keys
    - Barrel export includes new components
    - Build passes: `pnpm build`
  </verify>
  <done>
    Stats and Management translations added for both languages.
  </done>
</task>

</tasks>

<verification>
- [ ] AnimatedCounter.tsx uses useMotionValue (not setState for performance)
- [ ] AnimatedCounter exported from animations/index.ts
- [ ] StatsSection shows 3 stats with count-up animation
- [ ] ManagementSection displays philosophy with image
- [ ] Translations added to both en/common.json and ar/common.json
- [ ] Build passes: `pnpm build`
- [ ] Lint passes: `pnpm lint`
</verification>

<success_criteria>
- AnimatedCounter triggers when scrolled into view, plays once only
- Statistics display with large numbers and + suffix
- Count-up animation smooth (2 seconds, easeOut)
- Management section communicates leadership philosophy
- All content internationalized for Arabic and English
</success_criteria>

<output>
After completion, create `.planning/phases/03-homepage-sections/03-03-SUMMARY.md`
</output>
