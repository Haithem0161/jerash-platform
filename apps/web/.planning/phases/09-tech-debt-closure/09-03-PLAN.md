---
phase: 09-tech-debt-closure
plan: 03
type: execute
wave: 2
depends_on: ["09-02"]
files_modified:
  - src/lib/i18n.ts
  - src/components/gallery/GalleryImage.tsx
  - src/components/hse/HSEHero.tsx
autonomous: true

must_haves:
  truths:
    - "No i18n namespace warnings in browser console"
    - "Gallery images are keyboard-accessible (Enter key opens lightbox)"
    - "HSE hero image loads correctly (no 404)"
    - "Build passes with zero warnings"
  artifacts:
    - path: "src/lib/i18n.ts"
      provides: "i18n configuration with all namespaces"
      contains: "careers"
    - path: "src/components/gallery/GalleryImage.tsx"
      provides: "Accessible gallery image component"
      contains: "role=\"button\""
    - path: "src/components/hse/HSEHero.tsx"
      provides: "HSE hero with correct image path"
      contains: "/images/hse/hse-hero.jpg"
  key_links:
    - from: "src/lib/i18n.ts"
      to: "src/locales/{lang}/*.json"
      via: "ns array registration"
      pattern: "ns:.*\\["
    - from: "src/components/gallery/GalleryImage.tsx"
      to: "onClick handler"
      via: "keyboard event delegation"
      pattern: "onKeyDown"
---

<objective>
Fix configuration and accessibility warnings for a clean production build.

Purpose: Eliminate all build warnings and console errors for professional release
Output: Zero-warning build with full accessibility compliance
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-tech-debt-closure/09-RESEARCH.md
@src/lib/i18n.ts
@src/components/gallery/GalleryImage.tsx
@src/components/hse/HSEHero.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Register missing i18n namespaces</name>
  <files>src/lib/i18n.ts</files>
  <action>
    Add missing namespaces to the ns array on line 31.

    Current (line 31):
    ```typescript
    ns: ['common', 'services', 'hse', 'partners'],
    ```

    Updated (add careers, contact, gallery):
    ```typescript
    ns: ['common', 'services', 'hse', 'partners', 'careers', 'contact', 'gallery'],
    ```

    This suppresses console warnings about missing namespace registrations.
    The resourcesToBackend plugin still handles lazy loading - this just tells
    i18next which namespaces are valid.

    Note: Only add namespaces that have corresponding JSON files in src/locales/{lang}/
  </action>
  <verify>
    Run: `grep "ns:" src/lib/i18n.ts`
    Should show all 7 namespaces: common, services, hse, partners, careers, contact, gallery
  </verify>
  <done>All namespaces registered in i18n config, no console warnings for missing namespaces</done>
</task>

<task type="auto">
  <name>Task 2: Add accessibility attributes to GalleryImage</name>
  <files>src/components/gallery/GalleryImage.tsx</files>
  <action>
    Add keyboard accessibility to the clickable motion.div on lines 40-44.

    Current:
    ```tsx
    <motion.div
      variants={itemVariants}
      className="mb-2 cursor-pointer group relative"
      onClick={onClick}
    >
    ```

    Updated (add role, tabIndex, and keyboard handler):
    ```tsx
    <motion.div
      variants={itemVariants}
      className="mb-2 cursor-pointer group relative"
      onClick={onClick}
      onKeyDown={(e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault()
          onClick()
        }
      }}
      role="button"
      tabIndex={0}
      aria-label={alt}
    >
    ```

    This fixes the jsx-a11y no-noninteractive-element-interactions warning by:
    1. Adding role="button" to indicate interactive element
    2. Adding tabIndex={0} to make it focusable
    3. Adding onKeyDown to handle Enter and Space keys
    4. Adding aria-label for screen reader context

    Note: The `alt` prop is available in the component props and provides good context.
  </action>
  <verify>
    Run: `grep -A3 'role="button"' src/components/gallery/GalleryImage.tsx`
    Should show role, tabIndex, and onKeyDown attributes on motion.div
  </verify>
  <done>GalleryImage is fully keyboard accessible with proper ARIA attributes</done>
</task>

<task type="auto">
  <name>Task 3: Fix HSEHero image path</name>
  <files>src/components/hse/HSEHero.tsx</files>
  <action>
    Fix the incorrect image path on line 13.

    Current (wrong path - missing /hse/ subdirectory):
    ```tsx
    style={{ backgroundImage: "url('/images/hse-hero.jpg')" }}
    ```

    Updated (correct path):
    ```tsx
    style={{ backgroundImage: "url('/images/hse/hse-hero.jpg')" }}
    ```

    The actual image is at `/public/images/hse/hse-hero.jpg`, so the URL
    should be `/images/hse/hse-hero.jpg` (without /public prefix).
  </action>
  <verify>
    Run: `grep "backgroundImage" src/components/hse/HSEHero.tsx`
    Should show path: /images/hse/hse-hero.jpg
  </verify>
  <done>HSEHero background image path corrected to match actual file location</done>
</task>

</tasks>

<verification>
Run full verification suite:

```bash
# 1. Lint check - should have no jsx-a11y warnings
pnpm lint 2>&1 | grep -E "jsx-a11y|error|warning" || echo "Lint clean"

# 2. Build check - should pass with no warnings
pnpm build 2>&1 | grep -E "warning|error" || echo "Build clean"

# 3. Specific file checks
grep "ns:" src/lib/i18n.ts                           # Should show 7 namespaces
grep 'role="button"' src/components/gallery/GalleryImage.tsx  # Should exist
grep "/images/hse/hse-hero.jpg" src/components/hse/HSEHero.tsx # Should exist
```
</verification>

<success_criteria>
1. `pnpm lint` passes with no jsx-a11y warnings related to GalleryImage or Footer
2. `pnpm build` passes with no warnings
3. Browser console shows no i18n namespace warnings
4. Gallery images can be opened with Enter key (keyboard navigation works)
5. HSE hero background image loads correctly (no 404)
</success_criteria>

<output>
After completion, create `.planning/phases/09-tech-debt-closure/09-03-SUMMARY.md`
</output>
