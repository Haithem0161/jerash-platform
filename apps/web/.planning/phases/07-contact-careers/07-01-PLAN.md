---
phase: 07-contact-careers
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/routes/pages/Contact.tsx
  - src/routes/index.tsx
  - src/components/contact/ContactForm.tsx
  - src/components/contact/OfficeLocations.tsx
  - src/components/contact/schemas/contact-schema.ts
  - src/locales/en/contact.json
  - src/locales/ar/contact.json
  - src/components/ui/input.tsx
  - src/components/ui/textarea.tsx
  - src/components/ui/select.tsx
  - src/components/ui/label.tsx
  - src/components/ui/card.tsx
  - src/components/ui/form.tsx
autonomous: true

must_haves:
  truths:
    - "User can fill out contact form with name, email, phone, department, message"
    - "User can see all 3 office locations in tabbed interface"
    - "Phone numbers and emails are clickable (tel: and mailto: links)"
    - "Form validation errors display in current language (Arabic or English)"
    - "Success message shows after simulated form submission"
  artifacts:
    - path: "src/routes/pages/Contact.tsx"
      provides: "Contact page component"
      min_lines: 30
    - path: "src/components/contact/ContactForm.tsx"
      provides: "Contact inquiry form with validation"
      min_lines: 80
    - path: "src/components/contact/OfficeLocations.tsx"
      provides: "Tabbed office display component"
      min_lines: 60
    - path: "src/components/contact/schemas/contact-schema.ts"
      provides: "Zod validation schema with translation keys"
      exports: ["contactSchema", "ContactFormData"]
    - path: "src/locales/en/contact.json"
      provides: "English contact translations"
      contains: "formTitle"
    - path: "src/locales/ar/contact.json"
      provides: "Arabic contact translations"
      contains: "formTitle"
  key_links:
    - from: "src/components/contact/ContactForm.tsx"
      to: "src/components/contact/schemas/contact-schema.ts"
      via: "zodResolver import"
      pattern: "zodResolver.*contactSchema"
    - from: "src/components/contact/ContactForm.tsx"
      to: "react-i18next"
      via: "useTranslation hook"
      pattern: "useTranslation.*contact"
    - from: "src/routes/index.tsx"
      to: "src/routes/pages/Contact.tsx"
      via: "route import"
      pattern: "ContactPage"
---

<objective>
Create Contact page with inquiry form and office locations display.

Purpose: Enable users to submit inquiries to Jerash and find office contact information for all 3 locations (Basrah, Erbil, Baghdad).

Output: ContactPage at /contact route with form (left) + quick contact sidebar (right), and tabbed office locations section below.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-contact-careers/07-CONTEXT.md
@.planning/phases/07-contact-careers/07-RESEARCH.md

# Existing patterns
@src/routes/index.tsx
@src/locales/en/common.json
@src/components/ui/tabs.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install shadcn/ui form components and create contact schema</name>
  <files>
    src/components/ui/input.tsx
    src/components/ui/textarea.tsx
    src/components/ui/select.tsx
    src/components/ui/label.tsx
    src/components/ui/card.tsx
    src/components/ui/form.tsx
    src/components/contact/schemas/contact-schema.ts
  </files>
  <action>
    Install required shadcn/ui components for forms:
    ```bash
    pnpm dlx shadcn@latest add input textarea select label card form
    ```

    Create contact validation schema at src/components/contact/schemas/contact-schema.ts:
    - Import z from 'zod' (use Zod 4 syntax)
    - Define contactSchema with fields:
      - name: z.string().min(1) with error key 'validation.nameRequired'
      - email: z.email() with error key 'validation.emailInvalid'
      - phone: z.string().optional() (phone is optional per CONTEXT)
      - department: z.enum(['general', 'technical', 'careers', 'other'])
      - message: z.string().min(10) with error key 'validation.messageTooShort'
    - Export ContactFormData type using z.infer
    - Use translation keys (NOT translated strings) for all error messages - this prevents frozen error messages when language changes
  </action>
  <verify>
    - ls src/components/ui/input.tsx exists
    - ls src/components/contact/schemas/contact-schema.ts exists
    - grep "z.email" src/components/contact/schemas/contact-schema.ts returns match
  </verify>
  <done>
    shadcn/ui form components installed, contact schema exports contactSchema and ContactFormData with translation key error messages
  </done>
</task>

<task type="auto">
  <name>Task 2: Create ContactForm, OfficeLocations, translations, and Contact page</name>
  <files>
    src/components/contact/ContactForm.tsx
    src/components/contact/OfficeLocations.tsx
    src/locales/en/contact.json
    src/locales/ar/contact.json
    src/routes/pages/Contact.tsx
    src/routes/index.tsx
  </files>
  <action>
    **Create src/locales/en/contact.json:**
    - formTitle, formDescription
    - Field labels: name, email, phone, department, message
    - Department options: general, technical, careers, other
    - Submit button text, submitting state
    - Success title and message
    - Validation error messages: nameRequired, emailInvalid, messageTooShort
    - Office section: title, phone, email, address, hours labels
    - Office data for Basrah, Erbil, Baghdad (name, address, phone with +964 prefix, email, working hours)

    **Create src/locales/ar/contact.json:**
    - Arabic translations for all above keys
    - Arabic office names and addresses

    **Create src/components/contact/ContactForm.tsx:**
    - Use useForm with zodResolver(contactSchema)
    - Provide defaultValues for all fields (name: '', email: '', phone: '', department: 'general', message: '')
    - Use shadcn/ui Form, FormField, FormItem, FormLabel, FormControl, FormMessage components
    - Department field uses Select component with 4 options
    - Simulate submission with setTimeout(1500ms), log to console
    - Track isSubmitting and showSuccess states
    - Use AnimatePresence to switch between form and success message (per CONTEXT: inline success replacing form)
    - Success state shows CheckCircle icon from lucide-react, title, and message
    - Translate error messages in FormMessage using t(error.message) pattern

    **Create src/components/contact/OfficeLocations.tsx:**
    - Import Tabs, TabsList, TabsTrigger, TabsContent from shadcn/ui
    - Define offices array with id, coordinates (placeholder - use city center), phone (E.164 format), email, nameKey, addressKey, hoursKey
    - No default tab (undefined initial value per CONTEXT) - user must click to select
    - Each TabsContent shows Card with phone (tel: link), email (mailto: link), address, hours
    - Phone display formatted with spaces for readability, href uses E.164 format
    - Placeholder for map: simple div with gray background and "Map coming soon" text (MapCN deferred for simplicity)

    **Create src/routes/pages/Contact.tsx:**
    - Import FadeIn, StaggerContainer from animations (consistent with other pages)
    - Two-column grid layout on desktop (md:grid-cols-[2fr,1fr]): ContactForm on left in Card, quick contact on right in Card
    - Quick contact sidebar shows condensed office info (phone/email links only for each office)
    - Below: full-width OfficeLocations component with tabs
    - Use react-helmet-async for SEO meta tags (title, description in current language)
    - Page title from contact.json, consistent header styling with other pages

    **Update src/routes/index.tsx:**
    - Import ContactPage from './pages/Contact'
    - Add route: { path: 'contact', element: <ContactPage /> }
  </action>
  <verify>
    - pnpm build completes without errors
    - pnpm dev, navigate to /contact, form renders with all fields
    - Fill form, submit, see success message appear
    - Click on office tabs, each shows different office info
    - Phone and email links are clickable (inspect href)
    - Switch language, validation errors display in new language
  </verify>
  <done>
    Contact page accessible at /contact with working form (simulated submission), tabbed office locations, clickable contact links, bilingual support
  </done>
</task>

</tasks>

<verification>
1. Navigate to /contact - page loads with form and office sidebar
2. Submit empty form - validation errors appear in current language
3. Fill valid data, submit - success message animates in
4. Click all 3 office tabs - each displays unique office info
5. Click phone link - should trigger tel: action
6. Click email link - should trigger mailto: action
7. Switch to Arabic - entire page content changes including form labels
8. Submit with errors in Arabic mode - errors display in Arabic
9. pnpm build succeeds with no TypeScript errors
</verification>

<success_criteria>
- Contact form accepts name, email, phone (optional), department, message
- Form validates with bilingual error messages (translation keys in schema, translated in component)
- Simulated submission shows loading state then success message
- 3 office locations display in tabs with phone, email, address, hours
- Phone numbers use E.164 format in href, display formatted for readability
- All content bilingual (Arabic/English)
- Route /contact accessible and renders ContactPage
</success_criteria>

<output>
After completion, create `.planning/phases/07-contact-careers/07-01-SUMMARY.md`
</output>
